import type { RegExpDateFn } from '../types';

// 30-12-2020 [11:59[:59]]
export const REGEXP_DATETIME_DEFAULT =
  /^(((0[1-9]|[12]\d|3[01])-(0[13578]|1[02])|(0[1-9]|[12]\d|30)-(0[469]|11)|(0[1-9]|1\d|2[0-8])-02)-\d{4}|29-02-(\d{2}(0[48]|[2468][048]|[13579][26])|([02468][048]|[1359][26])00))( ([01]\d|2[0-3]):[0-5]\d(:[0-5]\d)?)?$/;

// 30/12/2020 [11:59[:59]]
export const REGEXP_DATETIME_HTML =
  /^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])|(0[1-9]|[12]\d|30)\/(0[469]|11)|(0[1-9]|1\d|2[0-8])\/02)\/\d{4}|29\/02\/(\d{2}(0[48]|[2468][048]|[13579][26])|([02468][048]|[1359][26])00))( ([01]\d|2[0-3]):[0-5]\d(:[0-5]\d)?)?$/;

// 2020-12-30 [11:59[:59]]
export const REGEXP_DATETIME_SQL =
  /^(\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\d|3[01])|(0[469]|11)-(0[1-9]|[12]\d|30)|02-(0[1-9]|1\d|2[0-8]))|(\d{2}(0[48]|[2468][048]|[13579][26])|([02468][048]|[1359][26])00)-02-29)( ([01]\d|2[0-3]):[0-5]\d(:[0-5]\d)?)?$/;

// 30{sep}12{sep}2020 [11:59[:59]]
export const REGEXP_DATETIME_FN: RegExpDateFn = (sep = '') => {
  return new RegExp(
    `^(((0[1-9]|[12][0-9]|3[01])${sep ? `[${sep}]` : ''}(0[13578]|1[02])|(0[1-9]|[12][0-9]|30)${
      sep ? `[${sep}]` : ''
    }(0[469]|11)|(0[1-9]|1\\d|2[0-8])${sep ? `[${sep}]` : ''}02)${sep ? `[${sep}]` : ''}\\d{4}|29${
      sep ? `[${sep}]` : ''
    }02${
      sep ? `[${sep}]` : ''
    }(\\d{2}(0[48]|[2468][048]|[13579][26])|([02468][048]|[1359][26])00))([ ]([01][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)?$`,
  );
};
